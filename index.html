<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="css/jquery.mobile-1.4.5.css" rel="stylesheet" />
<link href="css/jquery.mobile.theme-1.4.5.css" rel="stylesheet" />
<link href="css/jquery.mobile.structure-1.4.5.css" rel="stylesheet" />
<script src="js/jquery-2.1.4.min.js" type="text/javascript" ></script>
<script src="js/jquery.mobile-1.4.5.js" type="text/javascript"></script> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Documento sin título</title>
<script type="text/javascript">
document.addEventListener("deviceready",function(){
		$("#btnGuardar").tap(function (){
			var nom=$("#nomProducto").val();
			var clave=$("#claveProducto").val();
			var precio=$("#precioProducto").val();
			var exist=$("#existProducto").val();
			var provee=$("#proveProducto").val();			
			
			if(nom=="" || clave=="" || precio=="" ||exist==""|| provee==""){
				alert("Favor de registrar valores en todos los campos");
			}else{
					var p=parseFloat(precio);
					var e=parseInt(exist);
					//alert("precio:"+p+" existencia:"+e);
					$.ajax({
						type:"POST",
						url:"http://zepol3mx.260mb.net/guardar.php",
						data:"nomb="+nom+"&clav="+clave+"&prec="+p+"&existen="+e+"&prov="+provee,
						success: exeGuardar
					});					
					
					function exeGuardar(mensaje){
						alert("Respuesta:"+mensaje);
					}
					
				}			
		});
		
		$("#btnConsulta").tab(function(){
			alert("listo");			
			$.ajax({
				type:"POST",
				url:"http://zepol3mx.260mb.net /consultaTodo.php",
				data:"",
				success:function(datos){
					var reg=$.parseJSON(datos);
					var result=$("#todosReg");
					result.html('<tableborder="1"id="tb1"><th>Id</th><th>Nom_Product</th><th>
					Clave</th><th>Precio</th><th>Existencia</th><th>
					Proveedor</th>');
					            var fila=$("#tb1");
							    for(var i in reg){
						     fila.append('<tr><td>'+reg[i]).
							 Id'</td><td>'+reg[i].Nombre_equipo+'</td><td>'+reg[i].
							 clave+'</td><td>'+reg[i].precio+'</td>,<td>'+reg[i].
							 Exixtencia+'</td><td>'+reg[i].Proveedor+'</td></tr>');
							 fila.append('</table>');
							 					
				            }
			});
			
			
$("#btnConId").tab(function(){
						
			$.ajax({
				type:"POST",
				url:"http://zepol3mx.260mb.net /consultaId.php",
				data:"",
				success:function(datos){
					var reg1=$.parseJSON(datos);
					var result1=$("#datID");
					result.append('<table
					border="1"id="tb1><th>Id</th><th>Nom_Product</th><th>
					Clave</th><th>Precio</th><th> Existencia</th><th>
					Proveedor</th>');
					            var fila=$("#tb2");
							    for(var i in reg1){
						     fila1.append('<tr><td>'+reg[i]).
							 Id'</td><td>'+reg[i].Nombre_equipo+'</td><td>'+reg1[i].
							 clave+'</td><td>'+reg1[i].precio+'</td>,<td>'+reg1[i].
							 Exixtencia+'</td><td>'+reg1[i].Proveedor+'</td></tr>');
								}
							 fila.append('</table>');
							 					
				}
			
		})
			
			
			$("#btnConsultaE").tab(function(){
					
			$.ajax({
				type:"POST",
				url:"http://zepol3mx.260mb.net/Eliminar.php",
				data:"",
				success:function(datos){
					var reg=$.parseJSON(datos);
					var result=$("#todosRegE");
					result.append('<table
					border="1"id="tb3"><th>Id</th><th>Nom_Product</th><th>
					Clave</th><th>Precio</th><th>Existencia</th><th>
					Proveedor</th>');
					            var fila=$("#tb3");
							    for(var i in reg){
						     fila.append('<tr><td>'+reg[i]).
							 Id'</td><td>'+reg[i].Nombre_equipo+'</td><td>'+reg[i].
							 clave+'</td><td>'+reg[i].precio+'</td>,<td>'+reg[i].
							 Exixtencia+'</td><td>'+reg[i].Proveedor+'</td></tr>');
								}
							 fila.append('</table>');
							 					
				            }
			});	
			
			});	
			
			$("#btnElinId") .tap({
				var id=$("idRegEliminar").val();
				$.ajax({
					type:"POST",
					url:"http://zepol3mx.260mb.net/eliminar.php",
					data:"id="+id,
					success: function(datos){
						alert("Respuesta:"+datos);
					}
					
				    });
				});
				
				
				
		$("#btnConsultaAct").tab(function(){
			alert("listo");			
			$.ajax({
				type:"POST",
				url:"http://zepol3mx.260mb.net/consultaTodo.php",
				data:"",
				success:function(datos){
					var reg=$.parseJSON(datos);
					var result=$("#ttodosRegAct");
					result.html('<tableborder="1"id="tb4"><th>Id</th><th>Nom_Product</th><th>
					Clave</th><th>Precio</th><th>Existencia</th><th>
					Proveedor</th>');
					            var fila=$("#tb4");
							    for(var i in reg){
						     fila.append('<tr><td>'+reg[i]).
							 Id'</td><td>'+reg[i].Nombre_equipo+'</td><td>'+reg[i].
							 clave+'</td><td>'+reg[i].precio+'</td>,<td>'+reg[i].
							 Exixtencia+'</td><td>'+reg[i].Proveedor+'</td></tr>');
							 fila.append('</table>');
							 					
				            }
			});
					
			$("#btnCargDatos") .tap({
				var id=$("idRegAct").val();
				$.ajax({
					type:"POST",
					url:"http://zepol3mx.260mb.net/consultaId.php",
					data:"id="+id,
					success: function(datos){
						//alert("Respuesta:"+datos);
						
						var resp=$.parseJSON(datos);
						var controles=$("#datIdAct");
						controles.html('ID:<input
						type="text"id="id1" />,<br /><input type="text" 
						id="n1" /><br />clave;imput type="text" id="call" /><br> />exixtencia:<input 
						type="text" id="pre1"/><br>  />proveedor:input
						type="text" id="preocve1"/><br>  />
						     
							 $("#"id1).val(resp)[0].Id);
							 $("#"n1).val(resp)[0].Id);
							 
				nombre_equipo);			 
							 
							 $("#"cla1).val(resp)[0].Id);
							 
				clave);			 
							 $("#"pre1).val(resp)[0].Id);
							 
				precio);	 
							 $("#"exist1).val(resp)[0].Id);
				existencia);			 
							 $("#"prove1).val(resp)[0].Id);		
				proveeder);		
						
										
				    });
				});
				
			
		$("#btnActId").tap(function (){
			var id=$("#id1").val();
			var nom=$("#n1").val();
			var clave=$("#clave1").val();
			var precio=$("#cla1").val();
			var exist=$("#exist1").val();
			var provee=$("#prove1").val();			
			
			if(nom=="" || clave=="" || precio=="" ||exist==""|| provee==""){
				alert("Favor de registrar valores en todos los campos");
			}else{
					var p=parseFloat(precio);
					var e=parseInt(exist);
					//alert("precio:"+p+" existencia:"+e);
					$.ajax({
						type:"POST",
						url:"http://zepol3mx.260mb.net/guardarAct.php",
						data:"id="+id+"&nomb="+nom+"&clav="+clave+"&prec="+p+"&existen="+e+"&prov="+provee,
						success: exeGuardarAct
					});					
					
					function exeGuardaActr(mensaje){
						alert("Respuesta:"+mensaje);
					}
					
				}			
		});
			
					
	},false);
</script>
<style type="text/css">
	p{
		text-align:center;
	}
</style>
</head>

<body>
<div data-role="page" id="principal" data-theme="b">
	<div data-role="header">
    	<p>Opciones</p>
    </div> 
    <div data-role="content">
    	<ul data-role="listview">
        	<li><a href="#insetar">Registrar productos</a></li>
            <li><a href="#consultar">Consultar productos</a></li>
            <li><a href="#eliminar">Eliminar productos</a></li>
            <li><a href="#actualizar">Modificar productos</a></li>
        </ul>
    </div>
    <div data-role="footer" data-position="fixed">
    	<p>Pie de aplicación</p>
    </div>
</div>

<div data-role="page" id="insetar">
	<div data-role="header">
    	<p>Registrar productos</p>
    </div>
    <div data-role="content">
    	<input type="text" id="nomProducto" placeholder="Nombre del producto"  />
        <input type="text" id="claveProducto" placeholder="Clave del producto"  />
        <input type="text" id="precioProducto" placeholder="Precio del producto"  />
        <input type="text" id="existProducto" placeholder="Cantidad existentes del producto"  />
        <input type="text" id="proveProducto" placeholder="Proveedor del producto"  />
        <input type="button" value="Guardar" id="btnGuardar"  />
    </div>
    <div data-role="footer">
    	<p>Pie de página</p>
    </div>
</div>

<div data-role="page" id="consultar">
	<div data-role="header">
    	<p>Consultar productos</p>
    </div>
    <div data-role="content">
    	<input type="button" id="btnConsulta" value="Mostrar todo"  />
        <div id="todosReg"></div>
        <input type="text" id="idReg"  />
        <div id="datID"></div>
        <input type="button" id="btnConId" value="Consultar registro" />
    </div>
    <div data-role="footer">
    	<p>Pie de página</p>
    </div>
</div>

<div data-role="page" id="eliminar">
	<div data-role="header">
    	<p>Eliminar productos</p>
    </div>
    <div data-role="content">
    	<input type="button" id="btnConsultaE" value="Mostrar todo"  />
        <div id="todosRegE"></div>
        <input type="text" id="idRegEliminar"  />
        <input type="button" id="btnElimId" value="Eliminar registro" />
    </div>
    <div data-role="footer">
    	<p>Pie de página</p>
    </div>
</div>

<div data-role="page" id="actualizar">
	<div data-role="header">
    	<p>Actualizar productos</p>
    </div>
    <div data-role="content">
    	<input type="button" id="btnConsultaAct" value="Mostrar todo"  />
        <div id="todosRegAct"></div>
        <input type="text" id="idRegAct"  />
        <input type="button" id="btnCargDatos" value="Cargar dato" />
        <div id="datIDAct"></div>
        <input type="button" id="btnActId" value="Guardar cambios" />
    </div>
    <div data-role="footer">
    	<p>Pie de página</p>
    </div>
</div>
</body>
</html>
